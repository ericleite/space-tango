{"version":3,"sources":["src/scripts/constants.js","src/scripts/homepage.js","src/scripts/main.js","src/scripts/modernizr-clip-path.js","src/scripts/modernizr-custom.js","src/scripts/polyfills.js","src/scripts/utils.js"],"names":["module","exports","BREAKPOINTS","DESKTOP_S","COLORS","FIRE_ENGINE_RED","GREY","SPACE_GREY","WHITE","DARK_BODY_STYLE","backgroundColor","color","LIGHT_BODY_STYLE","ACTIVE_CLASS","LIGHT_SECTION_SPACER_CLASS","CUBE_SLIDER_SELECTOR","CUBE_SLIDER_SLIDE_CONTENT_SELECTOR","CUBE_SLIDER_SLIDE_SELECTOR","CUBE_SLIDER_TRACK_SELECTOR","DARK_TO_LIGHT_SELECTOR","FEATURED_WORK_HEADER_SELECTOR","GLOBE_SELECTOR","HERO_SELECTOR","LIGHT_SECTION_SELECTOR","LIGHT_SECTION_SPACER_SELECTOR","NAV_SELECTOR","NAV_BUTTON_SELECTOR","Homepage","controller","ScrollMagic","Controller","scenes","figureVideos","debouncedHandleResize","handleResize","bind","handleClickNavButton","handleEnterCubeSliderScene","handleMouseenterVideo","handleMouseenterFigureVideo","handleMouseleaveVideo","handleMouseleaveFigureVideo","test","navigator","userAgent","console","log","globeEl","document","querySelector","heroEl","navEl","navButtonEl","buildStaticScenes","registerFigureVideos","window","addEventListener","classList","add","hero","Scene","reverse","triggerElement","triggerHook","setClassToggle","addScene","featuredWorkHeader","darkToLight","duration","setTween","TweenLite","fromTo","body","getGlobeSceneDuration","start","end","globe","offset","y","ease","Power0","easeNone","slides","querySelectorAll","slideCount","length","sliderSceneOptions","timeline","TimelineLite","slideIndex","toVars","top","to","cubeSlider","setPin","spacerClass","on","unpinSlides","destroy","buildGlobeScene","shouldBuildCubeSlider","buildCubeSliderScenes","registerSliderVideos","Array","prototype","forEach","call","video","forcePlay","sliderVideos","currentTime","e","contains","remove","state","pinSlides","target","rebuildGlobeScene","rebuildCubeSliderScenes","heroDimensions","getBoundingClientRect","height","globeDimensions","videos","autoplay","play","innerWidth","slider","sliderDimentions","slideContent","slide","style","left","width","require","initialize","Modernizr","tests","name","value","i","addTest","CSS","j","_prefixes","prop","supports","testStyles","join","elem","rule","getComputedStyle","clip","clipPath","_domPrefixes","testProp","n","t","r","o","s","l","a","g","hasOwnProperty","push","toLowerCase","options","aliases","fn","split","Boolean","C","className","_config","classPrefix","w","baseVal","enableJSClass","RegExp","replace","enableClasses","x","_trigger","createElement","arguments","createElementNS","apply","fake","f","u","c","d","p","parseInt","id","appendChild","type","styleSheet","cssText","createTextNode","background","overflow","parentNode","removeChild","offsetHeight","indexOf","toUpperCase","getPropertyValue","error","currentStyle","m","h","P","modElem","shift","v","_version","usePrefixes","_q","setTimeout","addAsyncTest","_","documentElement","nodeName","S","b","constructor","_l","z","unshift","E","node","TypeError","HTMLElement","Node","Element","matches","webkitMatchesSelector","oMatchesSelector","msMatchesSelector","mozMatchesSelector","selector","element","elements","ownerDocument","index","checkForElement","callback","requestAnimationFrame","findAncestor","el","closest","parentElement"],"mappings":"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","file":"public/main.js","sourcesContent":["module.exports = {\n  BREAKPOINTS: {\n    DESKTOP_S: 1024\n  },\n  COLORS: {\n    FIRE_ENGINE_RED: '#CF1016',\n    GREY: '#DBD8D7',\n    SPACE_GREY: '#25282A',\n    WHITE: '#FFFFFF'\n  }\n};\n","'use strict';\n\n// Libs\nimport CSSPlugin from 'gsap/CSSPlugin';\nimport EasePack from 'gsap/EasePack';\nimport TweenLite from 'gsap/TweenLite';\nimport TimelineLite from 'gsap/TimelineLite';\nimport ScrollMagic from 'scrollmagic';\nimport 'scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap';\nimport debounce from 'lodash/debounce';\n\n// Utils\nimport { checkForElement, findAncestor } from 'utils';\nimport { BREAKPOINTS, COLORS } from 'constants';\n\n// Local constants\n// Styles\nconst DARK_BODY_STYLE = {\n  backgroundColor: COLORS.SPACE_GREY,\n  color: COLORS.WHITE\n};\nconst LIGHT_BODY_STYLE = {\n  backgroundColor: COLORS.GREY,\n  color: COLORS.SPACE_GREY\n};\n// Classes\nconst ACTIVE_CLASS = 'active';\nconst LIGHT_SECTION_SPACER_CLASS = 'lightSectionSpacer';\n// Selectors\nconst CUBE_SLIDER_SELECTOR = '#cubeSlider';\nconst CUBE_SLIDER_SLIDE_CONTENT_SELECTOR = '.Cube-slider-slide-content';\nconst CUBE_SLIDER_SLIDE_SELECTOR = `${CUBE_SLIDER_SELECTOR} .Cube-slider-slide`;\nconst CUBE_SLIDER_TRACK_SELECTOR = `${CUBE_SLIDER_SELECTOR} .Cube-slider-track`;\nconst DARK_TO_LIGHT_SELECTOR = '#darkToLight';\nconst FEATURED_WORK_HEADER_SELECTOR = '#featuredWorkHeader';\nconst GLOBE_SELECTOR = '#globe';\nconst HERO_SELECTOR = '#hero';\nconst LIGHT_SECTION_SELECTOR = '#lightSection';\nconst LIGHT_SECTION_SPACER_SELECTOR = `.${LIGHT_SECTION_SPACER_CLASS}`;\nconst NAV_SELECTOR = '#nav';\nconst NAV_BUTTON_SELECTOR = '#navButton';\n\n/*\n* Homepage class is the base controller for the homepage.\n*/\nclass Homepage {\n  constructor() {\n    // Properties\n    this.controller = new ScrollMagic.Controller();\n    this.scenes = {};\n    this.figureVideos = [];\n\n    // Event handlers\n    this.debouncedHandleResize = debounce(this.handleResize.bind(this), 150);\n    this.handleClickNavButton = this.handleClickNavButton.bind(this);\n    this.handleEnterCubeSliderScene = this.handleEnterCubeSliderScene.bind(this);\n    this.handleMouseenterVideo = this.handleMouseenterFigureVideo.bind(this);\n    this.handleMouseleaveVideo = this.handleMouseleaveFigureVideo.bind(this);\n  }\n\n  // Methods\n  // -------\n\n  /*\n  * Used to initialize the application. Only call this once the DOM is ready.\n  */\n  initialize() {\n    // Detect browser\n    if (/MSIE/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      console.log('microsoft detected');\n    }\n\n    // Cache common elements\n    this.globeEl = document.querySelector(GLOBE_SELECTOR);\n    this.heroEl = document.querySelector(HERO_SELECTOR);\n    this.navEl = document.querySelector(NAV_SELECTOR);\n    this.navButtonEl = document.querySelector(NAV_BUTTON_SELECTOR);\n\n    // Build scenes\n    this.buildStaticScenes();\n\n    // Register videos\n    this.registerFigureVideos();\n\n    // Setup resize listener\n    this.handleResize();\n    window.addEventListener('resize', this.debouncedHandleResize);\n\n    // Add active class to globe (in case the animation didn't activate)\n    this.globeEl.classList.add('active');\n\n    // Add event handler for nav open/close button.\n    this.navButtonEl.addEventListener('click', this.handleClickNavButton);\n  }\n\n  /*\n  * Creates scroll-based animations for static section.\n  */\n  buildStaticScenes() {\n    // Caption fade/rise-in\n    this.scenes.hero = new ScrollMagic.Scene({\n      reverse: false,\n      triggerElement: HERO_SELECTOR,\n      triggerHook: 1\n    }).setClassToggle('#heroHeadline', ACTIVE_CLASS);\n    this.controller.addScene(this.scenes.hero);\n\n    // Featured Work header section\n    this.scenes.featuredWorkHeader = [\n      // \"Featured Work\" intro fade/rise-in\n      new ScrollMagic.Scene({\n        reverse: false,\n        triggerElement: FEATURED_WORK_HEADER_SELECTOR,\n        triggerHook: 0.8\n      })\n        .setClassToggle('#featuredWorkHeaderCaption', ACTIVE_CLASS),\n      // ISS image fade/swoop-in\n      new ScrollMagic.Scene({\n        reverse: false,\n        triggerElement: FEATURED_WORK_HEADER_SELECTOR,\n        triggerHook: 0.8\n      })\n        .setClassToggle('#featuredWorkHeaderFigure', ACTIVE_CLASS)\n    ];\n    this.controller.addScene(this.scenes.featuredWorkHeader);\n\n    // Dark to light transition\n    this.scenes.darkToLight = new ScrollMagic.Scene({\n      duration: '60%',\n      triggerElement: DARK_TO_LIGHT_SELECTOR,\n      triggerHook: 0.7\n    }).setTween(TweenLite.fromTo(document.body, 1, DARK_BODY_STYLE, LIGHT_BODY_STYLE));\n    this.controller.addScene(this.scenes.darkToLight);\n  }\n\n  /*\n  * Creates the scene for the globe rise-up animation.\n  */\n  buildGlobeScene() {\n    const duration = this.getGlobeSceneDuration() * 1.05;\n    const start = 10;\n    // (% end position) = ((% globe size / % animation length) * 100%) - (% start position)\n    const end = (150 / 192 * 100) - start;\n    this.scenes.globe = new ScrollMagic.Scene({\n      duration,\n      offset: -60,\n      reverse: true,\n      triggerElement: GLOBE_SELECTOR,\n      triggerHook: 'onEnter'\n    })\n      .setClassToggle('#globeImage', ACTIVE_CLASS)\n      .setTween(TweenLite.fromTo('#globeContainer', 1, { y: `-${start}%` }, { y: `-${end}%`, ease: Power0.easeNone }))\n    this.controller.addScene(this.scenes.globe);\n  }\n\n  /*\n  * Creates the scene for the cube slider.\n  */\n  buildCubeSliderScenes() {\n    const slides = document.querySelectorAll(CUBE_SLIDER_SLIDE_SELECTOR);\n    const slideCount = slides.length;\n    const sliderSceneOptions = {\n      triggerElement: LIGHT_SECTION_SELECTOR,\n      triggerHook: 'onLeave',\n      duration: `${slideCount - 1}00%`\n    };\n    const timeline = new TimelineLite();\n\n    // Add slides to the timeline.\n    let slideIndex = 0;\n    while (slideIndex < slideCount - 1) {\n      const toVars = {\n        top: `-${(slideIndex + 1) * 100}%`\n      };\n      timeline.to(CUBE_SLIDER_TRACK_SELECTOR, 1, toVars);\n      slideIndex++;\n    }\n\n    // Create slider scene.\n    this.scenes.cubeSlider = new ScrollMagic.Scene(sliderSceneOptions)\n      .setPin(LIGHT_SECTION_SELECTOR, { spacerClass: LIGHT_SECTION_SPACER_CLASS })\n      .setTween(timeline)\n      .on('enter', this.handleEnterCubeSliderScene)\n      .on('leave destroy', e => { this.unpinSlides(slides); });\n    this.controller.addScene(this.scenes.cubeSlider);\n  }\n\n  /*\n  * Rebuilds globe scene.\n  */\n  rebuildGlobeScene() {\n    if (this.scenes.globe) {\n      this.scenes.globe = this.scenes.globe.destroy(true);\n    }\n    if (!this.scenes.globe) {\n      this.buildGlobeScene();\n    }\n  }\n\n  /*\n  * Rebuilds cube slider scenes.\n  */\n  rebuildCubeSliderScenes() {\n    // Destroy it if it exists.\n    if (this.scenes.cubeSlider) {\n      this.scenes.cubeSlider = this.scenes.cubeSlider.destroy(true);\n    }\n    // Create it if we are in desktop mode and it does not already exist.\n    if (this.shouldBuildCubeSlider()) {\n      this.buildCubeSliderScenes();\n    }\n    // Make videos play.\n    this.registerSliderVideos();\n  }\n\n  /*\n  * Registers featured work <figure>s.\n  */\n  registerFigureVideos() {\n    this.figureVideos = document.querySelectorAll('.featuredWorkFigure video');\n    if (this.figureVideos.length > 0) {\n      Array.prototype.forEach.call(this.figureVideos, video => {\n        video.addEventListener('mouseenter', this.handleMouseenterFigureVideo);\n        video.addEventListener('mouseleave', this.handleMouseleaveFigureVideo);\n      });\n    }\n    this.forcePlay(this.figureVideos);\n  }\n\n  /*\n  * Registers cube slider videos.\n  */\n  registerSliderVideos() {\n    this.sliderVideos = document.querySelectorAll(`${CUBE_SLIDER_SLIDE_SELECTOR} video`);\n    if (this.sliderVideos.length > 0) {\n      Array.prototype.forEach.call(this.sliderVideos, video => {\n        video.currentTime = 0;\n      });\n    }\n    this.forcePlay(this.sliderVideos);\n  }\n\n  // Event handlers\n  // --------------\n\n  /*\n  * Handles clicking the nav open/close button.\n  * @param {Event} e - Click event.\n  */\n  handleClickNavButton(e) {\n    if (!this.navEl) {\n      return;\n    }\n    if (this.navEl.classList.contains('open')) {\n      this.navEl.classList.remove('open');\n      document.body.classList.remove('freeze');\n    } else {\n      this.navEl.classList.add('open');\n      document.body.classList.add('freeze');\n    }\n  }\n\n  /*\n  * Handles entering the cube slider scene.\n  * @param {Event} e - ScrollMagic \"enter\" event object.\n  */\n  handleEnterCubeSliderScene(e) {\n    if (!this.scenes.cubeSlider) {\n      return;\n    }\n    if (this.scenes.cubeSlider.state() === 'DURING') {\n      checkForElement(LIGHT_SECTION_SPACER_SELECTOR, this.pinSlides);\n    } else {\n      this.pinSlides();\n    }\n  }\n\n  /*\n  * Handles mouse enter event on a <figure> <video>.\n  * @param {Event} e - Mouseenter event object.\n  */\n  handleMouseenterFigureVideo(e) {\n    findAncestor(e.target, '.featuredWorkFigure').querySelector('figcaption').classList.add('secondary');\n  }\n\n  /*\n  * Handles mouse leave event on a <figure> <video>.\n  * @param {Event} e - Mouseleave event object.\n  */\n  handleMouseleaveFigureVideo(e) {\n    findAncestor(e.target, '.featuredWorkFigure').querySelector('figcaption').classList.remove('secondary');\n  }\n\n  /*\n  * Handles window resizing.\n  * @param {Event} e - Window resize event.\n  */\n  handleResize(e) {\n    this.rebuildGlobeScene();\n    this.rebuildCubeSliderScenes();\n  }\n\n  // Helpers\n  // -------\n\n  /*\n  * Gets the duration for the globe scene.\n  * @returns {Number} - Number of pixels to run the scene.\n  */\n  getGlobeSceneDuration() {\n    let duration = 0;\n    if (this.heroEl) {\n      const heroDimensions = this.heroEl.getBoundingClientRect();\n      duration += heroDimensions.height;\n    }\n    if (this.globeEl) {\n      const globeDimensions = this.globeEl.getBoundingClientRect();\n      duration += globeDimensions.height;\n    }\n    return duration;\n  }\n\n  /*\n  * Forces HTML5 videos to start playing.\n  * @param {NodeList} videos - List of videos to play.\n  */\n  forcePlay(videos) {\n    if (videos.length > 0) {\n      Array.prototype.forEach.call(videos, video => {\n        if (video.autoplay) {\n          video.play();\n        }\n      });\n    }\n  }\n\n  /*\n  * Determines if the cube slider should be built.\n  * @returns {Boolean} - Flag indicating whether to build the slider.\n  */\n  shouldBuildCubeSlider() {\n    if (window.innerWidth >= BREAKPOINTS.DESKTOP_S && !this.scenes.cubeSlider) {\n      return true;\n    }\n    return false;\n  }\n\n  /*\n  * Pins slides in place.\n  * @param {NodeList} slides - List of slide nodes\n  */\n  pinSlides(slides) {\n    if (!slides) {\n      slides = document.querySelectorAll(CUBE_SLIDER_SLIDE_SELECTOR);\n    }\n    if (slides.length > 0) {\n      let slider = document.querySelector(CUBE_SLIDER_SELECTOR);\n      const sliderDimentions = slider.getBoundingClientRect();\n      Array.prototype.forEach.call(slides, slide => {\n        const slideContent = slide.querySelector(CUBE_SLIDER_SLIDE_CONTENT_SELECTOR);\n        slideContent.classList.add(ACTIVE_CLASS);\n        slideContent.style.top = `${sliderDimentions.top}px`;\n        slideContent.style.left = `${sliderDimentions.left}px`;\n        slideContent.style.width = `${sliderDimentions.width}px`;\n        slideContent.style.height = `${sliderDimentions.height}px`;\n      });\n    }\n  }\n\n  /*\n  * Unpins slides.\n  * @param {NodeList} slides - List of slide nodes\n  */\n  unpinSlides(slides) {\n    if (!slides) {\n      slides = document.querySelectorAll(CUBE_SLIDER_SLIDE_SELECTOR);\n    }\n    if (slides.length > 0) {\n      Array.prototype.forEach.call(slides, slide => {\n        const slideContent = slide.querySelector(CUBE_SLIDER_SLIDE_CONTENT_SELECTOR);\n        slideContent.classList.remove(ACTIVE_CLASS);\n        slideContent.style.top = '';\n        slideContent.style.left = '';\n        slideContent.style.width = '';\n        slideContent.style.height = '';\n      });\n    }\n  }\n}\n\nmodule.exports = new Homepage();\n","'use strict';\n\n// Libs\nrequire('polyfills');\nrequire('modernizr-custom');\nrequire('modernizr-clip-path');\n\n// Components\nconst Homepage = require('homepage');\n\n// Remove static class from body.\ndocument.body.classList.remove('static');\n\n// Add onLoad event listener.\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  Homepage.initialize();\n});\n","(function(Modernizr) {\n  const tests = [\n    // False positive in IE, supports SVG clip-path, but not on HTML element\n    { name: 'svg', value: 'url(#test)' },\n    { name: 'inset', value: 'inset(10px 20px 30px 40px)' },\n    // { name: 'circle', value: 'circle(60px at center)' },\n    // { name: 'ellipse', value: 'ellipse(50% 50% at 50% 50%)' },\n    { name: 'polygon', value: 'polygon(50% 0%, 0% 100%, 100% 100%)' }\n  ];\n\n  for (let i = 0; i < tests.length; i++) {\n    const name = tests[i].name;\n    const value = tests[i].value;\n    Modernizr.addTest(\n      'cssclippath' + name,\n      function() {\n        // Try using window.CSS.supports\n        if ('CSS' in window && 'supports' in window.CSS) {\n          for (let j = 0; j < Modernizr._prefixes.length; j++) {\n            const prop = Modernizr._prefixes[j] + 'clip-path'\n\n            if (window.CSS.supports(prop, value)) {\n              return true;\n            }\n          }\n          return false;\n        }\n        // Otherwise, use Modernizr.testStyles and examine the property manually\n        return Modernizr.testStyles(\n          '#modernizr { ' + Modernizr._prefixes.join('clip-path:' + value + '; ') + ' }',\n          function(elem, rule) {\n            var style = getComputedStyle(elem),\n              clip = style.clipPath;\n\n            if (!clip || clip == \"none\") {\n              clip = false;\n\n              for (var i = 0; i < Modernizr._domPrefixes.length; i++) {\n                const test = Modernizr._domPrefixes[i] + 'ClipPath';\n                if (style[test] && style[test] !== \"none\") {\n                  clip = true;\n                  break;\n                }\n              }\n            }\n\n            return Modernizr.testProp('clipPath') && clip;\n          }\n        );\n      }\n    );\n  }\n})(Modernizr);\n","/*! modernizr 3.6.0 (Custom Build) | MIT *\n * https://modernizr.com/download/?-addtest-domprefixes-prefixes-setclasses-testprop-teststyles !*/\n!function(e,n,t){function r(e,n){return typeof e===n}function o(){var e,n,t,o,i,s,l;for(var a in g)if(g.hasOwnProperty(a)){if(e=[],n=g[a],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(o=r(n.fn,\"function\")?n.fn():n.fn,i=0;i<e.length;i++)s=e[i],l=s.split(\".\"),1===l.length?Modernizr[l[0]]=o:(!Modernizr[l[0]]||Modernizr[l[0]]instanceof Boolean||(Modernizr[l[0]]=new Boolean(Modernizr[l[0]])),Modernizr[l[0]][l[1]]=o),y.push((o?\"\":\"no-\")+l.join(\"-\"))}}function i(e){var n=C.className,t=Modernizr._config.classPrefix||\"\";if(w&&(n=n.baseVal),Modernizr._config.enableJSClass){var r=new RegExp(\"(^|\\\\s)\"+t+\"no-js(\\\\s|$)\");n=n.replace(r,\"$1\"+t+\"js$2\")}Modernizr._config.enableClasses&&(n+=\" \"+t+e.join(\" \"+t),w?C.className.baseVal=n:C.className=n)}function s(e,n){if(\"object\"==typeof e)for(var t in e)x(e,t)&&s(t,e[t]);else{e=e.toLowerCase();var r=e.split(\".\"),o=Modernizr[r[0]];if(2==r.length&&(o=o[r[1]]),\"undefined\"!=typeof o)return Modernizr;n=\"function\"==typeof n?n():n,1==r.length?Modernizr[r[0]]=n:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=n),i([(n&&0!=n?\"\":\"no-\")+r.join(\"-\")]),Modernizr._trigger(e,n)}return Modernizr}function l(){return\"function\"!=typeof n.createElement?n.createElement(arguments[0]):w?n.createElementNS.call(n,\"http://www.w3.org/2000/svg\",arguments[0]):n.createElement.apply(n,arguments)}function a(){var e=n.body;return e||(e=l(w?\"svg\":\"body\"),e.fake=!0),e}function f(e,t,r,o){var i,s,f,u,c=\"modernizr\",d=l(\"div\"),p=a();if(parseInt(r,10))for(;r--;)f=l(\"div\"),f.id=o?o[r]:c+(r+1),d.appendChild(f);return i=l(\"style\"),i.type=\"text/css\",i.id=\"s\"+c,(p.fake?p:d).appendChild(i),p.appendChild(d),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(n.createTextNode(e)),d.id=c,p.fake&&(p.style.background=\"\",p.style.overflow=\"hidden\",u=C.style.overflow,C.style.overflow=\"hidden\",C.appendChild(p)),s=t(d,e),p.fake?(p.parentNode.removeChild(p),C.style.overflow=u,C.offsetHeight):d.parentNode.removeChild(d),!!s}function u(e,n){return!!~(\"\"+e).indexOf(n)}function c(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,\"\")}function d(e){return e.replace(/([A-Z])/g,function(e,n){return\"-\"+n.toLowerCase()}).replace(/^ms-/,\"-ms-\")}function p(n,t,r){var o;if(\"getComputedStyle\"in e){o=getComputedStyle.call(e,n,t);var i=e.console;if(null!==o)r&&(o=o.getPropertyValue(r));else if(i){var s=i.error?\"error\":\"log\";i[s].call(i,\"getComputedStyle returning null, its possible modernizr test results are inaccurate\")}}else o=!t&&n.currentStyle&&n.currentStyle[r];return o}function m(n,r){var o=n.length;if(\"CSS\"in e&&\"supports\"in e.CSS){for(;o--;)if(e.CSS.supports(d(n[o]),r))return!0;return!1}if(\"CSSSupportsRule\"in e){for(var i=[];o--;)i.push(\"(\"+d(n[o])+\":\"+r+\")\");return i=i.join(\" or \"),f(\"@supports (\"+i+\") { #modernizr { position: absolute; } }\",function(e){return\"absolute\"==p(e,null,\"position\")})}return t}function h(e,n,o,i){function s(){f&&(delete P.style,delete P.modElem)}if(i=r(i,\"undefined\")?!1:i,!r(o,\"undefined\")){var a=m(e,o);if(!r(a,\"undefined\"))return a}for(var f,d,p,h,y,g=[\"modernizr\",\"tspan\",\"samp\"];!P.style&&g.length;)f=!0,P.modElem=l(g.shift()),P.style=P.modElem.style;for(p=e.length,d=0;p>d;d++)if(h=e[d],y=P.style[h],u(h,\"-\")&&(h=c(h)),P.style[h]!==t){if(i||r(o,\"undefined\"))return s(),\"pfx\"==n?h:!0;try{P.style[h]=o}catch(v){}if(P.style[h]!=y)return s(),\"pfx\"==n?h:!0}return s(),!1}var y=[],g=[],v={_version:\"3.6.0\",_config:{classPrefix:\"\",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){g.push({name:e,fn:n,options:t})},addAsyncTest:function(e){g.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=v,Modernizr=new Modernizr;var _=v._config.usePrefixes?\" -webkit- -moz- -o- -ms- \".split(\" \"):[\"\",\"\"];v._prefixes=_;var C=n.documentElement,w=\"svg\"===C.nodeName.toLowerCase(),S=\"Moz O ms Webkit\",b=v._config.usePrefixes?S.toLowerCase().split(\" \"):[];v._domPrefixes=b;var x;!function(){var e={}.hasOwnProperty;x=r(e,\"undefined\")||r(e.call,\"undefined\")?function(e,n){return n in e&&r(e.constructor.prototype[n],\"undefined\")}:function(n,t){return e.call(n,t)}}(),v._l={},v.on=function(e,n){this._l[e]||(this._l[e]=[]),this._l[e].push(n),Modernizr.hasOwnProperty(e)&&setTimeout(function(){Modernizr._trigger(e,Modernizr[e])},0)},v._trigger=function(e,n){if(this._l[e]){var t=this._l[e];setTimeout(function(){var e,r;for(e=0;e<t.length;e++)(r=t[e])(n)},0),delete this._l[e]}},Modernizr._q.push(function(){v.addTest=s});var z=(v.testStyles=f,{elem:l(\"modernizr\")});Modernizr._q.push(function(){delete z.elem});var P={style:z.elem.style};Modernizr._q.unshift(function(){delete P.style});v.testProp=function(e,n,r){return h([e],t,n,r)};o(),i(y),delete v.addTest,delete v.addAsyncTest;for(var E=0;E<Modernizr._q.length;E++)Modernizr._q[E]();e.Modernizr=Modernizr}(window,document);","// Node.contains()\n(function() {\n\tfunction contains(node) {\n\t\tif (!(0 in arguments)) {\n\t\t\tthrow new TypeError('1 argument is required');\n\t\t}\n\t\tdo {\n\t\t\tif (this === node) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} while (node = node && node.parentNode);\n\t\treturn false;\n\t}\n\n\t// IE\n\tif ('HTMLElement' in window && 'contains' in HTMLElement.prototype) {\n\t\ttry {\n\t\t\tdelete HTMLElement.prototype.contains;\n\t\t} catch (e) {}\n\t}\n\n\tif ('Node' in window) {\n\t\tNode.prototype.contains = contains;\n\t} else {\n\t\tdocument.contains = Element.prototype.contains = contains;\n\t}\n}());\n\n// Element.matches()\nElement.prototype.matches = Element.prototype.webkitMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.mozMatchesSelector || function matches(selector) {\n\n\tvar element = this;\n\tvar elements = (element.document || element.ownerDocument).querySelectorAll(selector);\n\tvar index = 0;\n\n\twhile (elements[index] && elements[index] !== element) {\n\t\t++index;\n\t}\n\n\treturn !!elements[index];\n};\n","/*\n* Checks if an element exists in the DOM.\n* @param {String} selector - Selector used to find the desired element.\n* @param {Function} callback - Function to run once the element exists.\n*/\nfunction checkForElement(selector, callback) {\n  const element = document.querySelector(selector);\n  if (!document.contains(element)) {\n    window.requestAnimationFrame(checkForElement);\n  } else {\n    setTimeout(callback, 0);\n  }\n}\n\n/*\n* Finds the next closest sibling element.\n* @param {Element} el - Element to start searching from.\n* @param {String} selector - Selector of the element to find.\n* @returns {Element|Null} - Ancestor element.\n*/\nfunction findAncestor(el, selector) {\n  if (typeof el.closest === 'function') {\n    return el.closest(selector) || null;\n  }\n  while (el) {\n    if (el.matches(selector)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  return null;\n}\n\nmodule.exports = {\n  checkForElement,\n  findAncestor\n};\n"]}