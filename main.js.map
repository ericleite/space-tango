{"version":3,"sources":["src/scripts/app.js","src/scripts/main.js","src/scripts/polyfills.js","src/scripts/utils.js"],"names":["ScrollMagic","require","findAncestor","App","controller","Controller","scenes","figureVideos","handleMouseenterVideo","handleMouseenterFigureVideo","bind","handleMouseleaveVideo","handleMouseleaveFigureVideo","buildScenes","addFigures","heroTrigger","hero","Scene","triggerElement","reverse","triggerHook","setClassToggle","addScene","featuredWorkHeaderTrigger","featuredWorkHeader","document","querySelectorAll","Array","prototype","forEach","call","video","addEventListener","e","target","querySelector","classList","add","remove","module","exports","init","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","s","ownerDocument","i","length","item","el","sel","closest","parentElement"],"mappings":"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","file":"public/main.js","sourcesContent":["'use strict';\n\n// Libs\nconst ScrollMagic = require('scrollmagic');\n\n// Utils\nconst { findAncestor } = require('utils');\n\n/*\n* App class is the base controller for the app.\n*/\nclass App {\n  constructor() {\n    // Properties\n    this.controller = new ScrollMagic.Controller();\n    this.scenes = {};\n    this.figureVideos = [];\n\n    // Event handlers\n    this.handleMouseenterVideo = this.handleMouseenterFigureVideo.bind(this);\n    this.handleMouseleaveVideo = this.handleMouseleaveFigureVideo.bind(this);\n  }\n\n  /*\n  * Used to initialize the application. Only call this once the DOM is ready.\n  */\n  init() {\n    this.buildScenes();\n    this.addFigures();\n  }\n\n  /*\n  * Creates scroll-based animations for each section.\n  */\n  buildScenes() {\n    // Hero section\n    const heroTrigger = '#hero';\n    this.scenes.hero = [\n      new ScrollMagic.Scene({\n        triggerElement: heroTrigger,\n        reverse: false,\n        triggerHook: 1\n      }).setClassToggle('#heroHeadline', 'active'),\n      new ScrollMagic.Scene({\n        triggerElement: heroTrigger,\n        reverse: false,\n        triggerHook: 1\n      }).setClassToggle('#heroImage', 'active')\n    ];\n    this.controller.addScene(this.scenes.hero);\n\n    // Featured Work header section\n    const featuredWorkHeaderTrigger = '#featuredWorkHeader';\n    this.scenes.featuredWorkHeader = [\n      new ScrollMagic.Scene({\n        triggerElement: featuredWorkHeaderTrigger,\n        reverse: false,\n        triggerHook: 0.8\n      }).setClassToggle('#featuredWorkHeaderCaption', 'active'),\n      new ScrollMagic.Scene({\n        triggerElement: featuredWorkHeaderTrigger,\n        reverse: false,\n        triggerHook: 0.8\n      }).setClassToggle('#featuredWorkHeaderFigure', 'active')\n    ];\n    this.controller.addScene(this.scenes.featuredWorkHeader);\n  }\n  \n  /*\n  * Registers featured work <figure>s.\n  */\n  addFigures() {\n    this.figureVideos = document.querySelectorAll('.featuredWorkFigure video');\n    Array.prototype.forEach.call(this.figureVideos, video => {\n      video.addEventListener('mouseenter', this.handleMouseenterFigureVideo);\n      video.addEventListener('mouseleave', this.handleMouseleaveFigureVideo);\n    });\n  }\n\n  /*\n  * Handles mouse enter event on a <figure> <video>.\n  * @param {Event} e - Mouseenter event object.\n  */\n  handleMouseenterFigureVideo(e) {\n    findAncestor(e.target, '.featuredWorkFigure').querySelector('figcaption').classList.add('secondary');\n  }\n\n  /*\n  * Handles mouse leave event on a <figure> <video>.\n  * @param {Event} e - Mouseleave event object.\n  */\n  handleMouseleaveFigureVideo(e) {\n    findAncestor(e.target, '.featuredWorkFigure').querySelector('figcaption').classList.remove('secondary');    \n  }\n}\n\nmodule.exports = new App();\n","'use strict';\n\nconst App = require('app');\n\nApp.init();\n","if (!Element.prototype.matches) {\n  Element.prototype.matches =\n    Element.prototype.matchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.oMatchesSelector ||\n    Element.prototype.webkitMatchesSelector ||\n    function(s) {\n      var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n        i = matches.length;\n      while (--i >= 0 && matches.item(i) !== this) {}\n      return i > -1;\n    };\n}\n","function findAncestor(el, sel) {\n  if (typeof el.closest === 'function') {\n    return el.closest(sel) || null;\n  }\n  while (el) {\n    if (el.matches(sel)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n  return null;\n}\n\nmodule.exports = { findAncestor };\n"]}