!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},r={},i={},n={}.hasOwnProperty,o=/^\.\.?(\/|$)/,s=function(e,t){for(var r,i=[],n=(o.test(t)?e+"/"+t:t).split("/"),s=0,l=n.length;s<l;s++)r=n[s],".."===r?i.pop():"."!==r&&""!==r&&i.push(r);return i.join("/")},l=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(r){var i=s(l(t),r);return e.require(i,t)}},c=function(e,t){var i=p&&p.createHot(e),n={id:e,exports:{},hot:i};return r[e]=n,t(n.exports,u(e),n),n.exports},a=function(e){return i[e]?a(i[e]):e},d=function(e,t){return a(s(l(e),t))},h=function(e,i){null==i&&(i="/");var o=a(e);if(n.call(r,o))return r[o].exports;if(n.call(t,o))return c(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+i+"'")};h.alias=function(e,t){i[t]=e};var f=/\.[^.\/]+$/,g=/\/index(\.[^\/]+)?$/,S=function(e){if(f.test(e)){var t=e.replace(f,"");n.call(i,t)&&i[t].replace(f,"")!==t+"/index"||(i[t]=e)}if(g.test(e)){var r=e.replace(g,"");n.call(i,r)||(i[r]=e)}};h.register=h.define=function(e,i){if(e&&"object"==typeof e)for(var o in e)n.call(e,o)&&h.register(o,e[o]);else t[e]=i,delete r[e],S(e)},h.list=function(){var e=[];for(var r in t)n.call(t,r)&&e.push(r);return e};var p=e._hmr&&new e._hmr(d,h,t,r);h._cache=r,h.hmr=p&&p.wrap,h.brunch=!0,e.require=h}}(),function(){var e;"undefined"==typeof window?this:window;require.register("constants.js",function(e,t,r){"use strict";r.exports={BREAKPOINTS:{DESKTOP_S:1024},COLORS:{FIRE_ENGINE_RED:"#CF1016",GREY:"#D6D0C8",SPACE_GREY:"#25282A",WHITE:"#FFFFFF"}}}),require.register("homepage.js",function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=t("gsap/CSSPlugin"),l=(i(s),t("gsap/EasePack")),u=(i(l),t("gsap/TweenLite")),c=i(u),a=t("gsap/TimelineLite"),d=i(a),h=t("scrollmagic"),f=i(h);t("scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap");var g=t("lodash/debounce"),S=i(g),p=t("utils"),y=t("constants"),b={backgroundColor:y.COLORS.SPACE_GREY,color:y.COLORS.WHITE},v={backgroundColor:y.COLORS.GREY,color:y.COLORS.SPACE_GREY},m="active",E="lightSectionSpacer",k="#cubeSlider",w=".Cube-slider-slide-content",C=k+" .Cube-slider-slide",q=k+" .Cube-slider-track",_="#featuredWorkHeader",F="#globe",R="#hero",T="#lightSection",A="."+E,L=function(){function e(){n(this,e),this.controller=new f["default"].Controller,this.scenes={},this.figureVideos=[],this.debouncedHandleResize=(0,S["default"])(this.handleResize.bind(this),150),this.handleEnterCubeSliderScene=this.handleEnterCubeSliderScene.bind(this),this.handleMouseenterVideo=this.handleMouseenterFigureVideo.bind(this),this.handleMouseleaveVideo=this.handleMouseleaveFigureVideo.bind(this)}return o(e,[{key:"initialize",value:function(){this.globeEl=document.querySelector(F),this.heroEl=document.querySelector(R),this.buildStaticScenes(),this.registerFigureVideos(),this.handleResize(),window.addEventListener("resize",this.debouncedHandleResize),this.globeEl.classList.add("active")}},{key:"buildStaticScenes",value:function(){this.scenes.hero=new f["default"].Scene({reverse:!1,triggerElement:R,triggerHook:1}).setClassToggle("#heroHeadline",m),this.controller.addScene(this.scenes.hero),this.scenes.featuredWorkHeader=[new f["default"].Scene({reverse:!1,triggerElement:_,triggerHook:.8}).setClassToggle("#featuredWorkHeaderCaption",m),new f["default"].Scene({reverse:!1,triggerElement:_,triggerHook:.8}).setClassToggle("#featuredWorkHeaderFigure",m)],this.controller.addScene(this.scenes.featuredWorkHeader),this.scenes.darkToLight=new f["default"].Scene({duration:320,triggerElement:T,triggerHook:"onEnter"}).setTween(c["default"].fromTo(document.body,1,b,v)),this.controller.addScene(this.scenes.darkToLight)}},{key:"buildGlobeScene",value:function(){var e=1.05*this.getGlobeSceneDuration(),t=12,r=150/195*100-t;this.scenes.globe=new f["default"].Scene({duration:e,offset:-60,reverse:!0,triggerElement:F,triggerHook:"onEnter"}).setClassToggle("#globeImage",m).setTween(c["default"].fromTo("#globeContainer",1,{y:"-"+t+"%"},{y:"-"+r+"%",ease:Power0.easeNone})),this.controller.addScene(this.scenes.globe)}},{key:"buildCubeSliderScenes",value:function(){for(var e=this,t=document.querySelectorAll(C),r=t.length,i={triggerElement:T,triggerHook:"onLeave",duration:r-1+"00%"},n=new d["default"],o=0;o<r-1;){var s={top:"-"+100*(o+1)+"%"};n.to(q,1,s),o++}this.scenes.cubeSlider=new f["default"].Scene(i).setPin(T,{spacerClass:E}).setTween(n).on("enter",this.handleEnterCubeSliderScene).on("leave destroy",function(r){e.unpinSlides(t)}),this.controller.addScene(this.scenes.cubeSlider)}},{key:"rebuildGlobeScene",value:function(){this.scenes.globe&&(this.scenes.globe=this.scenes.globe.destroy(!0)),this.scenes.globe||this.buildGlobeScene()}},{key:"rebuildCubeSliderScenes",value:function(){this.scenes.cubeSlider&&(this.scenes.cubeSlider=this.scenes.cubeSlider.destroy(!0)),this.shouldBuildCubeSlider()&&this.buildCubeSliderScenes(),this.registerSliderVideos()}},{key:"registerFigureVideos",value:function(){var e=this;this.figureVideos=document.querySelectorAll(".featuredWorkFigure video"),this.figureVideos.length>0&&Array.prototype.forEach.call(this.figureVideos,function(t){t.addEventListener("mouseenter",e.handleMouseenterFigureVideo),t.addEventListener("mouseleave",e.handleMouseleaveFigureVideo)}),this.forcePlay(this.figureVideos)}},{key:"registerSliderVideos",value:function(){this.sliderVideos=document.querySelectorAll(C+" video"),this.sliderVideos.length>0&&Array.prototype.forEach.call(this.sliderVideos,function(e){e.currentTime=0}),this.forcePlay(this.sliderVideos)}},{key:"handleResize",value:function(e){this.rebuildGlobeScene(),this.rebuildCubeSliderScenes()}},{key:"handleEnterCubeSliderScene",value:function(e){this.scenes.cubeSlider&&("DURING"===this.scenes.cubeSlider.state()?(0,p.checkForElement)(A,this.pinSlides):this.pinSlides())}},{key:"handleMouseenterFigureVideo",value:function(e){(0,p.findAncestor)(e.target,".featuredWorkFigure").querySelector("figcaption").classList.add("secondary")}},{key:"handleMouseleaveFigureVideo",value:function(e){(0,p.findAncestor)(e.target,".featuredWorkFigure").querySelector("figcaption").classList.remove("secondary")}},{key:"getGlobeSceneDuration",value:function(){var e=0;if(this.heroEl){var t=this.heroEl.getBoundingClientRect();e+=t.height}if(this.globeEl){var r=this.globeEl.getBoundingClientRect();e+=r.height}return e}},{key:"forcePlay",value:function(e){e.length>0&&Array.prototype.forEach.call(e,function(e){e.autoplay&&e.play()})}},{key:"shouldBuildCubeSlider",value:function(){return window.innerWidth>=y.BREAKPOINTS.DESKTOP_S&&!this.scenes.cubeSlider}},{key:"pinSlides",value:function(e){if(e||(e=document.querySelectorAll(C)),e.length>0){var t=document.querySelector(k),r=t.getBoundingClientRect();Array.prototype.forEach.call(e,function(e){var t=e.querySelector(w);t.classList.add(m),t.style.top=r.top+"px",t.style.left=r.left+"px",t.style.width=r.width+"px",t.style.height=r.height+"px"})}}},{key:"unpinSlides",value:function(e){e||(e=document.querySelectorAll(C)),e.length>0&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(w);t.classList.remove(m),t.style.top="",t.style.left="",t.style.width="",t.style.height=""})}}]),e}();r.exports=new L}),require.register("main.js",function(e,t,r){"use strict";var i=t("homepage");document.body.classList.remove("static"),document.addEventListener("DOMContentLoaded",function(){i.initialize()})}),require.register("polyfills.js",function(e,t,r){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;--r>=0&&t.item(r)!==this;);return r>-1})}),require.register("utils.js",function(e,t,r){"use strict";function i(e,t){var r=document.querySelector(e);document.contains(r)?setTimeout(t,0):window.requestAnimationFrame(i)}function n(e,t){if("function"==typeof e.closest)return e.closest(t)||null;for(;e;){if(e.matches(t))return e;e=e.parentElement}return null}r.exports={checkForElement:i,findAncestor:n}}),require.alias("process/browser.js","process"),e=require("process"),require.register("___globals___",function(e,t,r){window.gsap=t("gsap")})}(),require("___globals___"),require("main");